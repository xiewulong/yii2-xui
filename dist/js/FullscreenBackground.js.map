{"version":3,"sources":["FullscreenBackground.js"],"names":["$","undefined","length","$img","len","$bg","path","attr","imgs","loaded","timer","index","speed","trim","split","each","i","img","Image","onload","_go","src","_src","j","appendTo","stop","animate","opacity","setTimeout","name","jQuery"],"mappings":";;AAAA;;;;;;;AAOA,CAAC,UAACA,CAAD,EAAIC,SAAJ,EAAkB;;AAElB,KAAG,CAACD,EAAE,oBAAF,EAAwBE,MAA5B,EAAoC;;AAEpC,KAAIC,aAAJ;AAAA,KAAUC,YAAV;AAAA,KACCC,MAAOL,EAAE,oBAAF,CADR;AAAA,KAECM,OAAOD,IAAIE,IAAJ,CAAS,WAAT,KAAyB,EAFjC;AAAA,KAGCC,OAAOH,IAAIE,IAAJ,CAAS,aAAT,CAHR;AAAA,KAICE,SAAS,CAJV;AAAA,KAKCC,QAAQ,IALT;AAAA,KAMCC,QAAQ,CANT;AAAA,KAOCC,QAAQ,IAPT;;AASAJ,QAAOR,EAAEa,IAAF,CAAOL,IAAP,IAAeA,KAAKM,KAAL,CAAW,GAAX,CAAf,GAAiC,EAAxC;AACAV,OAAMI,KAAKN,MAAX;;AAEA,KAAG,CAACE,GAAJ,EAAS;;AAETJ,GAAEe,IAAF,CAAOP,IAAP,EAAa,UAASQ,CAAT,EAAY;AACxB,MAAIC,MAAM,IAAIC,KAAJ,EAAV;AACAD,MAAIE,MAAJ,GAAa,YAAW;AACvBV;AACAA,aAAUL,GAAV,IAAiBgB,KAAjB;AACA,GAHD;AAIAH,MAAII,GAAJ,GAAUC,KAAK,IAAL,CAAV;AACA,EAPD;;AASA,UAASF,GAAT,GAAe;AACd,MAAIG,IAAId,SAASL,GAAjB;AACA,GAACD,IAAD,KAAUA,OAAOH,EAAE,SAAF,EAAawB,QAAb,CAAsBnB,GAAtB,CAAjB;AACAF,OAAKsB,IAAL,CAAU,IAAV,EAAgB,IAAhB,EAAsBC,OAAtB,CAA8B,EAACC,SAAS,CAAV,EAA9B,EAA4C,YAAW;AACtD3B,KAAE,IAAF,EAAQO,IAAR,CAAa,KAAb,EAAoBe,KAAKd,KAAKe,CAAL,CAAL,CAApB,EAAmCE,IAAnC,CAAwC,IAAxC,EAA8C,IAA9C,EAAoDC,OAApD,CAA4D,EAACC,SAAS,CAAV,EAA5D;AACA,GAFD;AAGAlB,WAASc,CAAT;AACAnB,QAAM,CAAN,KAAYK,UAAUC,QAAQkB,WAAWR,GAAX,EAAgBR,KAAhB,CAA9B;AACA;;AAED,UAASU,IAAT,CAAcO,IAAd,EAAoB;AACnB,SAAO,CAACvB,OAAOA,OAAO,GAAd,GAAoB,EAArB,IAA2BuB,IAAlC;AACA;AAED,CAzCD,EAyCGC,MAzCH","file":"FullscreenBackground.js","sourcesContent":["/*!\n * fullscreen background\n * xiewulong <xiewulong@vip.qq.com>\n * create: 2015/1/13\n * version: 0.0.1\n */\n\n(($, undefined) => {\n\n\tif(!$('.J-x-fullscreen-bg').length) return;\n\n\tlet $img, len,\n\t\t$bg\t\t= $('.J-x-fullscreen-bg'),\n\t\tpath\t= $bg.attr('data-path') || '',\n\t\timgs\t= $bg.attr('data-images'),\n\t\tloaded\t= 0,\n\t\ttimer\t= null,\n\t\tindex\t= 0,\n\t\tspeed\t= 8000;\n\n\timgs = $.trim(imgs) ? imgs.split('|') : [];\n\tlen = imgs.length;\n\n\tif(!len) return;\n\n\t$.each(imgs, function(i) {\n\t\tlet img\t= new Image();\n\t\timg.onload = function() {\n\t\t\tloaded++;\n\t\t\tloaded == len && _go();\n\t\t};\n\t\timg.src = _src(this);\n\t});\n\n\tfunction _go() {\n\t\tlet j = loaded % len;\n\t\t!$img && ($img = $('<img />').appendTo($bg));\n\t\t$img.stop(true, true).animate({opacity: 0}, function() {\n\t\t\t$(this).attr('src', _src(imgs[j])).stop(true, true).animate({opacity: 1});\n\t\t});\n\t\tloaded = j;\n\t\tlen > 1 && (loaded++, timer = setTimeout(_go, speed));\n\t}\n\n\tfunction _src(name) {\n\t\treturn (path ? path + '/' : '') + name;\n\t}\n\n})(jQuery);\n"],"sourceRoot":"/source/"}