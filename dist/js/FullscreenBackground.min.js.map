{"version":3,"sources":["FullscreenBackground.js"],"names":["$","undefined","img","_go","j","loaded","len","$img","appendTo","$bg","stop","animate","opacity","this","_src","imgs","attr","speed","path","name","length","timer","index","split","each","i","Image","onload","jQuery"],"mappings":"cAOA,SAAEA,EAAGC,GAwBHC,QAAAC,KAND,GAAAC,GAAAC,EAAAC,GAWEC,IAASA,EAAOP,EAAE,WAAWQ,SAASC,IAFxCF,EAAAG,MAASP,GAAM,GAAAQ,SAAAC,QAAA,GAAA,WACdZ,EAAAa,MAAQR,KAAAA,MAARS,EAAAC,EAAAX,KAAAM,MAAA,GAAA,GAAAC,SAAAC,QAAA,MAEAL,EAAAH,EACCJ,EAAE,IAAMgB,IAAYF,EAAKC,WAAeZ,EAAxCc,IAGDX,QAAAQ,GAAYT,GACZ,OAAAa,EAAAA,EAAA,IAAA,IAAAC,EAnCD,GAAAnB,EAAA,sBAAkBoB,OAAlB,CAEA,GAAGb,GAAAA,OAAGD,EAAAA,OAGLG,EAAOT,EAAE,sBADVkB,EAAIX,EAAAA,KAAJ,cAAA,GAAAQ,EAAUT,EAAAA,KAAV,eAAAD,EACQL,EADRqB,EAECH,KAFDD,EAICZ,GAJDU,GAMCO,EAAAA,KANDP,GAAAA,EAAAQ,MAAA,QAAAjB,EAOCW,EAAAA,OAEDF,GAKAf,EAAEwB,KAAKT,EAAM,SAASU,GAFtB,GAAInB,GAAK,GAAAoB,MAIRxB,GAAIyB,OAAS,WAFZH,IACDnB,GAAUC,GAAIoB,KAEbrB,EAAAA,IAAAA,EAAAA,UAiBDuB","file":"FullscreenBackground.min.js","sourcesContent":["/*!\n * fullscreen background\n * xiewulong <xiewulong@vip.qq.com>\n * create: 2015/1/13\n * version: 0.0.1\n */\n\n(($, undefined) => {\n\n\tif(!$('.J-x-fullscreen-bg').length) return;\n\n\tlet $img, len,\n\t\t$bg\t\t= $('.J-x-fullscreen-bg'),\n\t\tpath\t= $bg.attr('data-path') || '',\n\t\timgs\t= $bg.attr('data-images'),\n\t\tloaded\t= 0,\n\t\ttimer\t= null,\n\t\tindex\t= 0,\n\t\tspeed\t= 8000;\n\n\timgs = $.trim(imgs) ? imgs.split('|') : [];\n\tlen = imgs.length;\n\n\tif(!len) return;\n\n\t$.each(imgs, function(i) {\n\t\tlet img\t= new Image();\n\t\timg.onload = function() {\n\t\t\tloaded++;\n\t\t\tloaded == len && _go();\n\t\t};\n\t\timg.src = _src(this);\n\t});\n\n\tfunction _go() {\n\t\tlet j = loaded % len;\n\t\t!$img && ($img = $('<img />').appendTo($bg));\n\t\t$img.stop(true, true).animate({opacity: 0}, function() {\n\t\t\t$(this).attr('src', _src(imgs[j])).stop(true, true).animate({opacity: 1});\n\t\t});\n\t\tloaded = j;\n\t\tlen > 1 && (loaded++, timer = setTimeout(_go, speed));\n\t}\n\n\tfunction _src(name) {\n\t\treturn (path ? path + '/' : '') + name;\n\t}\n\n})(jQuery);\n"],"sourceRoot":"/source/"}